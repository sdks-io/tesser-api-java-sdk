/*
 * TesserAPIV1Lib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

package app.zuplo.tesserplatformv1pull51me98e48a7.controllers;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertTrue;

import app.zuplo.tesserplatformv1pull51me98e48a7.ApiHelper;
import app.zuplo.tesserplatformv1pull51me98e48a7.TesserAPIV1Client;
import app.zuplo.tesserplatformv1pull51me98e48a7.exceptions.ApiException;
import app.zuplo.tesserplatformv1pull51me98e48a7.models.CreateTenantRequest;
import app.zuplo.tesserplatformv1pull51me98e48a7.models.CreateTenantResponse;
import app.zuplo.tesserplatformv1pull51me98e48a7.models.TenantResponse;
import app.zuplo.tesserplatformv1pull51me98e48a7.models.UpdateTenantRequest;
import app.zuplo.tesserplatformv1pull51me98e48a7.models.UpdateTenantResponse;
import io.apimatic.core.utilities.TestHelper;
import java.util.LinkedHashMap;
import java.util.Map;
import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.Test;

public class TenantsControllerTest extends BaseControllerTest {

    /**
     * Client instance.
     */
    private static TesserAPIV1Client client;
    
    /**
     * Controller instance (for all tests).
     */
    private static TenantsController controller;

    /**
     * Setup test class.
     */
    @BeforeClass
    public static void setUpClass() {
        client = createConfiguration();
        controller = client.getTenantsController();
    }

    /**
     * Tear down test class.
     */
    @AfterClass
    public static void tearDownClass() {
        controller = null;
    }

    /**
     * Create a new tenant for your workspace. Tenants are business customers that integrate via
     * APIs.
     * @throws Throwable exception if occurs.
     */
    @Test
    public void testTestCreate1() throws Exception {
        // Parameters for the API call
        String authorization = 
                "Bearer <token>";
        CreateTenantRequest body = ApiHelper.deserialize(
                "{\"business_legal_name\":\"Acme Corporation\",\"business_dba\":\"Acme Co\",\"busin"
                + "ess_address_country\":\"US\",\"business_street_address1\":\"123 Corp Blvd\",\"bu"
                + "siness_street_address2\":\"Suite 100\",\"business_city\":\"New York\",\"business"
                + "_state\":\"NY\",\"business_legal_entity_identifier\":\"123456789\",\"webhook_url"
                + "\":\"https://example.com/webhooks/tesser\"}",
                CreateTenantRequest.class);

        // Set callback and perform API call
        CreateTenantResponse result = null;
        try {
            result = controller.create1(authorization, body);
        } catch (ApiException e) {
            // Empty block
        }

        // Test whether the response is null
        assertNotNull("Response is null", 
                httpResponse.getResponse());
        // Test response code
        assertEquals("Status is not 201", 
                201, httpResponse.getResponse().getStatusCode());

        // Test headers
        Map<String, String> headers = new LinkedHashMap<String, String>();
        headers.put("Content-Type", "application/json");
        
        assertTrue("Headers do not match", TestHelper.areHeadersProperSubsetOf(
                headers, httpResponse.getResponse().getHeaders().asSimpleMap(), true));

        // Test whether the captured response is as we expected
        assertNotNull("Result does not exist", 
                result);
        assertTrue("Response body does not match in keys", 
                TestHelper.isJsonObjectProperSubsetOf(
                "{\"data\":{\"id\":\"4e8c2a6f-1b9d-4f37-a5e0-7c3b8d2f1a9e\",\"workspace_id\":\"b53f"
                + "6690-3242-4942-9907-885779632832\",\"business_legal_name\":\"Acme Corporation\","
                + "\"business_dba\":\"Acme Co\",\"business_address_country\":\"US\",\"business_stre"
                + "et_address1\":\"123 Corp Blvd\",\"business_street_address2\":\"Suite 100\",\"bus"
                + "iness_city\":\"New York\",\"business_state\":\"NY\",\"business_legal_entity_iden"
                + "tifier\":\"9876543210\",\"country\":\"US\",\"webhook_url\":\"https://acme.com/we"
                + "bhooks/tesser\",\"created_at\":\"2024-01-15T10:30:00.000Z\",\"updated_at\":\"202"
                + "4-01-15T10:30:00.000Z\"}}",
                TestHelper.convertStreamToString(httpResponse.getResponse().getRawBody()), 
                false, true, false));
    }

    /**
     * Retrieve a specific tenant by its unique identifier.
     * @throws Throwable exception if occurs.
     */
    @Test
    public void testTestFindOne1() throws Exception {
        // Parameters for the API call
        String id = 
                "4e8c2a6f-1b9d-4f37-a5e0-7c3b8d2f1a9e";
        String authorization = 
                "Bearer <token>";
        Boolean includeSecure = null;

        // Set callback and perform API call
        TenantResponse result = null;
        try {
            result = controller.findOne1(id, authorization, includeSecure);
        } catch (ApiException e) {
            // Empty block
        }

        // Test whether the response is null
        assertNotNull("Response is null", 
                httpResponse.getResponse());
        // Test response code
        assertEquals("Status is not 200", 
                200, httpResponse.getResponse().getStatusCode());

        // Test headers
        Map<String, String> headers = new LinkedHashMap<String, String>();
        headers.put("Content-Type", "application/json");
        
        assertTrue("Headers do not match", TestHelper.areHeadersProperSubsetOf(
                headers, httpResponse.getResponse().getHeaders().asSimpleMap(), true));

        // Test whether the captured response is as we expected
        assertNotNull("Result does not exist", 
                result);
        assertTrue("Response body does not match in keys", 
                TestHelper.isJsonObjectProperSubsetOf(
                "{\"data\":{\"id\":\"4e8c2a6f-1b9d-4f37-a5e0-7c3b8d2f1a9e\",\"workspace_id\":\"b53f"
                + "6690-3242-4942-9907-885779632832\",\"business_legal_name\":\"Acme Corporation\","
                + "\"business_dba\":\"Acme Co\",\"business_address_country\":\"US\",\"business_stre"
                + "et_address1\":\"123 Corp Blvd\",\"business_street_address2\":\"Suite 100\",\"bus"
                + "iness_city\":\"New York\",\"business_state\":\"NY\",\"business_legal_entity_iden"
                + "tifier\":\"9876543210\",\"country\":\"US\",\"webhook_url\":\"https://acme.com/we"
                + "bhooks/tesser\",\"created_at\":\"2024-01-15T10:30:00.000Z\",\"updated_at\":\"202"
                + "4-01-15T10:30:00.000Z\"}}",
                TestHelper.convertStreamToString(httpResponse.getResponse().getRawBody()), 
                false, true, false));
    }

    /**
     * Update an existing tenant's information. Only the following fields can be updated: -
     * business_legal_name - business_dba - business_address_country - webhook_url At least one
     * field must be provided.
     * @throws Throwable exception if occurs.
     */
    @Test
    public void testTestUpdate2() throws Exception {
        // Parameters for the API call
        String id = 
                "4e8c2a6f-1b9d-4f37-a5e0-7c3b8d2f1a9e";
        String authorization = 
                "Bearer <token>";
        UpdateTenantRequest body = ApiHelper.deserialize(
                "{\"business_dba\":\"Acme Corp Updated\",\"webhook_url\":\"https://acme.com/webhook"
                + "s/tesser\"}",
                UpdateTenantRequest.class);

        // Set callback and perform API call
        UpdateTenantResponse result = null;
        try {
            result = controller.update2(id, authorization, body);
        } catch (ApiException e) {
            // Empty block
        }

        // Test whether the response is null
        assertNotNull("Response is null", 
                httpResponse.getResponse());
        // Test response code
        assertEquals("Status is not 200", 
                200, httpResponse.getResponse().getStatusCode());

        // Test headers
        Map<String, String> headers = new LinkedHashMap<String, String>();
        headers.put("Content-Type", "application/json");
        
        assertTrue("Headers do not match", TestHelper.areHeadersProperSubsetOf(
                headers, httpResponse.getResponse().getHeaders().asSimpleMap(), true));

        // Test whether the captured response is as we expected
        assertNotNull("Result does not exist", 
                result);
        assertTrue("Response body does not match in keys", 
                TestHelper.isJsonObjectProperSubsetOf(
                "{\"data\":{\"id\":\"4e8c2a6f-1b9d-4f37-a5e0-7c3b8d2f1a9e\",\"workspace_id\":\"b53f"
                + "6690-3242-4942-9907-885779632832\",\"business_legal_name\":\"Acme Corporation\","
                + "\"business_dba\":\"Acme Corp Updated\",\"business_address_country\":\"US\",\"bus"
                + "iness_street_address1\":\"123 Corp Blvd\",\"business_street_address2\":\"Suite 1"
                + "00\",\"business_city\":\"New York\",\"business_state\":\"NY\",\"business_legal_e"
                + "ntity_identifier\":\"9876543210\",\"country\":\"US\",\"webhook_url\":\"https://a"
                + "cme.com/webhooks/tesser\",\"created_at\":\"2024-01-15T10:30:00.000Z\",\"updated_"
                + "at\":\"2024-03-01T12:00:00.000Z\"}}",
                TestHelper.convertStreamToString(httpResponse.getResponse().getRawBody()), 
                false, true, false));
    }

}
